<!DOCTYPE html>
<html lang="en">
  <head>
    <title></title>
    <link rel="stylesheet" href="src/styles.css" />
  </head>

  <body>
    <div class="scrollable-container">
      <form onsubmit="csvJSON(myUploadedFile)">
        <input type="file" id="myFile" name="filename">
        <button type="submit">Upload File</button
      </form>
    </div>
    <script src="https://miro.com/app/static/sdk.1.1.js"></script>
    <script src="src/builder.js"></script>
    <script>
      var myUploadedFile = document.getElementById("myFile").files[0];
      function addImportFile(value) {

      }

      function csvJSON(csv){
        const lines = csv.split("\n");
        let result = [];
        var headers=lines[0].split(",");

        for( var i = 1; i < lines.length; i++ ){
            var obj = {};
            var currentline = lines[i].split(",");

            for( var j = 0; j < headers.length; j++ ){
                obj[headers[j]] = currentline[j];
            }
            result.push(obj);
        }
        console.log(result)
        //return result; //JavaScript object
        return JSON.stringify(result); //JSON

      }

      function makeStickers() {
        // return Array.from(rowsContainer.querySelectorAll('input')).map((el) => el.value)
      }
    </script>
  </body>
</html>
